(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{271:function(e,t,a){e.exports=a(456)},455:function(e,t,a){},456:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),l=a(43),i=a.n(l),o=a(10),s=a(42),u=a(25),m=a(235),d=a(4),p=a.n(d),f=a(8),E=a(474),b=a(68),v=a(127),y=a(12),h=a(23),g=a.n(h),w=null,O=function(){return{headers:{Authorization:w}}},C=function(){var e=Object(f.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat("/api","/lists"),O());case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("".concat("/api","/lists"),{name:t},O());case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(f.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.put("".concat("/api","/lists/").concat(t,"/update"),{items:a},O());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.delete("".concat("/api","/lists/").concat(t),O());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("".concat("/api","/lists/").concat(t,"/add-item"),{name:a},O());case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),I=function(){var e=Object(f.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.delete("".concat("/api","/lists/").concat(t,"/delete-item/").concat(a),O());case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),L=function(){var e=Object(f.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.patch("".concat("/api","/lists/").concat(t,"/edit-item"),{item:a},O());case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),T=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("".concat("/api","/lists/").concat(t,"/invite-guest"),{guestName:a},O());case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("".concat("/api","/lists/").concat(t,"/uninvite-guest"),{guestId:a},O());case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("".concat("/api","/lists/").concat(t,"/accept-invite"),{user:a},O());case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("".concat("/api","/lists/").concat(t,"/decline-invite"),{user:a},O());case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("".concat("/api","/lists/").concat(t,"/leave-list"),{},O());case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("".concat("/api","/lists/").concat(t,"/remove-guest"),{guestId:a},O());case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),R={config:O,setToken:function(e){w="bearer ".concat(e)},getListsByUser:C,addList:j,addItem:k,deleteItem:I,editItem:L,deleteList:S,editList:x,inviteGuest:T,uninviteGuest:_,acceptInvitation:A,declineInvitation:N,leaveList:D,removeGuest:P},V=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("".concat("/api","/login"),{name:t,password:a});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),F=function(){var e=Object(f.a)(p.a.mark((function e(t,a,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("".concat("/api","/users"),{name:t,email:a,password:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat("/api","/users/").concat(t),R.config());case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat("/api","/users/find-email/").concat(t),R.config());case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.patch("".concat("/api","/users/").concat(t,"/set-active-list"),{listId:a},R.config());case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),B=function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.patch("".concat("/api","/users/").concat(t,"/clear-active-list"),{},R.config());case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(f.a)(p.a.mark((function e(t,a,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.patch("".concat("/api","/users/").concat(t,"/change-name"),{name:a,password:n},R.config());case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(f.a)(p.a.mark((function e(t,a,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.patch("".concat("/api","/users/").concat(t,"/change-email"),{email:a,password:n},R.config());case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),q=function(){var e=Object(f.a)(p.a.mark((function e(t,a,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.patch("".concat("/api","/users/").concat(t,"/change-password"),{oldPassword:a,newPassword:n},R.config());case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat("/api","/users/validate-token"),{token:t},R.config());case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),J={login:V,register:F,getUser:z,getUserByEmail:M,setActiveList:U,clearActiveList:B,changeName:G,changeEmail:H,changePassword:q,requestReset:function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat("/api","/users/send-reset-email"),{email:t},R.config());case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),validateToken:W,resetPassword:function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat("/api","/users/reset-password"),{email:t,password:a},R.config());case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},Z=function(e){return{type:"SET_DEVICE_TO_DESKTOP",payload:e}},Y=function(e){return{type:"SET_LISTS",payload:e}},$=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.getUser(t.id);case 2:n=e.sent,(r=n.activeList)&&(r.guests.map((function(e){return e.id})).includes(n.id)||r.user.id===n.id)&&a({type:"SET_ACTIVE_LIST",payload:r}),a({type:"SET_IS_LOADING_LIST",payload:!1});case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),K=function(){var e=Object(f.a)(p.a.mark((function e(t,a,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.setActiveList(a.id,t.id);case 2:r=e.sent,n({type:"SET_ACTIVE_LIST",payload:r.activeList});case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Q=function(){var e=Object(f.a)(p.a.mark((function e(t,a,n){var r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.addList(t);case 2:return r=e.sent,e.next=5,J.getUser(a.id);case 5:return c=e.sent,e.next=8,J.setActiveList(c.id,r.id);case 8:n({type:"ADD_LIST",payload:r}),n({type:"SET_ACTIVE_LIST",payload:r});case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),X=function(){var e=Object(f.a)(p.a.mark((function e(t,a,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.editList(t.id,a);case 2:n({type:"EDIT_LIST",payload:t});case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ee=function(){var e=Object(f.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.deleteList(t.id);case 2:a({type:"DELETE_LIST",payload:t});case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),te=function(){var e=Object(f.a)(p.a.mark((function e(t,a,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.addItem(t.id,a);case 2:r=e.sent.data,n({type:"ADD_ITEM",payload:{list:t,item:r}});case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ae=function(){var e=Object(f.a)(p.a.mark((function e(t,a,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.deleteItem(t.id,a.id);case 2:n({type:"DELETE_ITEM",payload:{list:t,item:a}});case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ne=function(){var e=Object(f.a)(p.a.mark((function e(t,a,n,r){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(y.a)(Object(y.a)({},a),{},{name:n}),e.next=3,R.editItem(t.id,c);case 3:r({type:"EDIT_ITEM",payload:{list:t,editedItem:c}});case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),re=function(){var e=Object(f.a)(p.a.mark((function e(t,a,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.login(t,a);case 2:(r=e.sent)&&(n({type:"CLEAR_ACTIVE_LIST"}),n({type:"SET_USER",payload:{user:r}}));case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object(f.a)(p.a.mark((function e(t,a,n,r){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.register(t,a,n);case 2:return e.next=4,J.login(t,n);case 4:c=e.sent,r({type:"CLEAR_ACTIVE_LIST"}),r({type:"SET_USER",payload:{user:c}});case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),le=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.clearActiveList(t.id);case 2:return e.next=4,R.getListsByUser();case 4:n=e.sent,a({type:"CLEAR_ACTIVE_LIST"}),a({type:"SET_LISTS",payload:n});case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ie=function(e){return{type:"INVITE_GUEST",payload:{list:e}}},oe=function(e){return{type:"UNINVITE_GUEST",payload:{list:e}}},se=function(){var e=Object(f.a)(p.a.mark((function e(t,a,n){var r,c,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.acceptInvitation(t.id,a.id);case 2:return r=e.sent,e.next=5,R.getListsByUser();case 5:return c=e.sent,n({type:"ACCEPT_INVITATION",payload:{list:r,user:a}}),n({type:"SET_LISTS",payload:c}),e.next=10,J.setActiveList(a.id,r.id);case 10:l=e.sent,n({type:"SET_ACTIVE_LIST",payload:l.activeList});case 12:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ue=function(){var e=Object(f.a)(p.a.mark((function e(t,a,n){var r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.declineInvitation(t.id,a.id);case 2:return r=e.sent,e.next=5,J.getUser(a.id);case 5:c=e.sent,n({type:"DECLINE_INVITATION",payload:{list:r,user:c}});case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),me=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.leaveList(t.id);case 2:n=e.sent,a({type:"LEAVE_LIST",payload:{list:n}});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),de=function(){var e=Object(f.a)(p.a.mark((function e(t,a,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.removeGuest(t.id,a.id);case 2:r=e.sent,n({type:"REMOVE_GUEST",payload:{list:r}});case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),pe=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"CHANGE_USER_NAME",payload:{user:t}}),(n=window.localStorage.getItem("loggedShoppingListAppUser"))&&((r=JSON.parse(n)).name=t.name,window.localStorage.setItem("loggedShoppingListAppUser",JSON.stringify(r)),a({type:"SET_USER",payload:{user:r}}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),fe=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"CHANGE_USER_EMAIL",payload:{user:t}}),(n=window.localStorage.getItem("loggedShoppingListAppUser"))&&((r=JSON.parse(n)).email=t.email,window.localStorage.setItem("loggedShoppingListAppUser",JSON.stringify(r)),a({type:"SET_USER",payload:{user:r}}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ee=function(e){return{type:"SET_OPEN_MODAL_TYPE",payload:{modal:e}}};!function(e){e[e.None=0]="None",e[e.TestModal=1]="TestModal",e[e.LoginModal=2]="LoginModal",e[e.RegisterModal=3]="RegisterModal",e[e.RecoveryModal=4]="RecoveryModal"}(n||(n={}));var be={lists:[],activeList:null,listModalOpen:!1,user:null,modalType:n.None,isDesktop:!0,isLoadingList:!0},ve=Object(r.createContext)([be,function(){return be}]),ye=function(e){var t=e.reducer,a=e.children,n=Object(r.useReducer)(t,be),l=Object(o.a)(n,2),i=l[0],s=l[1];return c.a.createElement(ve.Provider,{value:[i,s]},a)},he=function(){return Object(r.useContext)(ve)},ge=function(){var e=he(),t=Object(o.a)(e,2)[1];return c.a.createElement(E.a.Item,{name:"newList",as:"a",onClick:function(){return t({type:"OPEN_LIST_MODAL"})}},c.a.createElement(b.a,{name:"add",size:"tiny"}),"Add List")},we=a(471),Oe=function(){var e=he(),t=Object(o.a)(e,2),a=t[0],n=a.lists,l=a.activeList,i=a.user,s=a.isDesktop,m=a.isLoadingList,d=t[1],E=Object(u.g)(),v=Object(u.h)();Object(r.useEffect)((function(){(function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.getListsByUser();case 3:t=e.sent,d(Y(t)),i&&$(i,d),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[d]);var y=function(e){i&&(K(e,i,d),E.push("/list"))},h=function(){return!("/profile"===v.pathname||!l)};return m?c.a.createElement(we.a,{item:!0,text:h()?null===l||void 0===l?void 0:l.name:"Select list",style:{minWidth:"11rem"}}):0===n.length?c.a.createElement(ge,null):s?c.a.createElement(we.a,{item:!0,text:h()?null===l||void 0===l?void 0:l.name:"Select list",style:{minWidth:"11rem"}},c.a.createElement(we.a.Menu,null,n.map((function(e){return c.a.createElement(we.a.Item,{key:e.id,onClick:function(){return y(e)}},l&&l.id===e.id?c.a.createElement(b.a,{name:"selected radio",size:"mini"}):c.a.createElement(b.a,{name:"circle outline",size:"mini"}),e.name)})),c.a.createElement(we.a.Divider,null),c.a.createElement(ge,null))):c.a.createElement(r.Fragment,null,c.a.createElement(we.a.Header,{text:"Lists",style:{minWidth:"11rem"}},"Lists"),n.map((function(e){return c.a.createElement(we.a.Item,{key:e.id,onClick:function(){return y(e)}},l&&l.id===e.id?c.a.createElement(b.a,{name:"selected radio",size:"mini"}):c.a.createElement(b.a,{name:"circle outline",size:"mini"}),e.name)})),c.a.createElement(ge,null),c.a.createElement(we.a.Divider,null))},Ce=a(465),je=function(){var e=he(),t=Object(o.a)(e,2),a=t[0].user,l=t[1],i=Object(u.g)();return Object(r.useEffect)((function(){!function(e){var t=window.localStorage.getItem("loggedShoppingListAppUser");t&&e({type:"SET_USER",payload:{user:JSON.parse(t)}})}(l)}),[]),c.a.createElement(r.Fragment,null,a?c.a.createElement(E.a.Item,{type:"button",onClick:function(){!function(e){window.localStorage.removeItem("loggedShoppingListAppUser"),R.setToken(""),e({type:"DISCARD_USER"}),e({type:"SET_IS_LOADING_LIST",payload:!0})}(l),l(Ee(n.None)),i.push("/")},color:"grey"},"Logout"):c.a.createElement(E.a.Item,{type:"button",onClick:function(){return l(Ee(n.LoginModal))},color:"grey"},"Login"))},xe=function(){var e=he(),t=Object(o.a)(e,2),a=t[0].user,l=t[1];return c.a.createElement(r.Fragment,null,a?null:c.a.createElement(E.a.Item,{type:"button",onClick:function(){return l(Ee(n.RegisterModal))},color:"grey"},"Register"))},Se=function(){var e=he(),t=Object(o.a)(e,1)[0],a=t.user,n=t.isDesktop,r=Object(u.g)();return n?c.a.createElement(E.a,{borderless:!0,inverted:!0,size:"massive"},c.a.createElement(Ce.a,null,c.a.createElement(E.a.Item,{position:"left",header:!0},c.a.createElement(b.a,{name:"list alternate outline",size:"large"}),"Shopping List"),c.a.createElement(E.a.Menu,{position:"right"},a&&c.a.createElement(Oe,null),a&&c.a.createElement(E.a.Item,{type:"button",onClick:function(){return r.push("/profile")},color:"grey"},c.a.createElement(b.a,{name:"user",size:"large"}),a.name),c.a.createElement(je,null),c.a.createElement(xe,null)))):c.a.createElement(E.a,{borderless:!0,inverted:!0,size:"huge"},c.a.createElement(Ce.a,null,c.a.createElement(E.a.Item,{header:!0,className:"mobile-logo"},c.a.createElement(b.a,{name:"list alternate outline",size:"large"}),"Shopping List"),c.a.createElement(we.a,{item:!0,text:"Menu",className:"mobile-menu"},c.a.createElement(we.a.Menu,null,a&&c.a.createElement(Oe,null),a&&c.a.createElement(we.a.Item,{type:"button",onClick:function(){return r.push("/profile")},color:"grey"},c.a.createElement(b.a,{name:"user",size:"large"}),a.name),c.a.createElement(je,null),c.a.createElement(xe,null)))))},ke=a(477),Ie=a(467),Le=a(457),Te=a(476),_e=a(468),Ae=a(475),Ne=function(e){var t=e.open,a=e.onConfirm,n=e.onClose,r=e.list;return c.a.createElement(_e.a,{open:t,onClose:n,centered:!1,size:"tiny",closeIcon:!0},c.a.createElement(_e.a.Header,null,"Really delete list ",r.name,"?"),c.a.createElement(_e.a.Content,null,c.a.createElement(Ae.a,null,c.a.createElement(Ae.a.Column,{floated:"left",width:5},c.a.createElement(Le.a,{type:"button",onClick:a,color:"red"},"Yes")),c.a.createElement(Ae.a.Column,{floated:"right",width:5},c.a.createElement(Le.a,{floated:"right",type:"button",onClick:n,color:"grey"},"No")))))},De=a(14),Pe=a(469),Re=a(466),Ve=function(e){var t=e.field,a=e.label,n=e.placeholder,r=e.autoFocus;return c.a.createElement(Pe.a.Field,null,c.a.createElement("label",null,a),c.a.createElement(De.b,Object.assign({placeholder:n},t,{autoFocus:r})),c.a.createElement("div",{style:{color:"red"}},c.a.createElement(De.a,{name:t.name})))},Fe=function(e){var t=e.field,a=e.label,n=e.placeholder,l=e.autoFocus,i=Object(r.useState)(!1),s=Object(o.a)(i,2),u=s[0],m=s[1];return c.a.createElement(Pe.a.Field,null,c.a.createElement("label",null,a),c.a.createElement(Re.a,Object.assign({autoFocus:l,placeholder:n,type:u?"text":"password"},t,{icon:c.a.createElement(b.a,{name:u?"eye slash":"eye",size:"large",link:!0,onClick:function(){return m(!u)}})})),c.a.createElement("div",{style:{color:"red"}},c.a.createElement(De.a,{name:t.name})))},ze=function(e){var t=e.onSubmit;return c.a.createElement(De.d,{initialValues:{name:""},onSubmit:t},(function(e){var t=e.isValid,a=e.dirty;return c.a.createElement(De.c,{className:"form ui"},c.a.createElement(De.b,{label:"Invite a user",placeholder:"Name",name:"name",component:Ve}),c.a.createElement(Ae.a,null,c.a.createElement(Ae.a.Column,{floated:"left",width:5},c.a.createElement(Le.a,{type:"submit",floated:"left",color:"green",disabled:!a||!t},"Invite"))))}))},Me=function(e){var t=e.list,a=he(),n=Object(o.a)(a,2),l=n[0].user,i=n[1],s=function(){var e=Object(f.a)(p.a.mark((function e(a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.uninviteGuest(t.id,a.id);case 3:n=e.sent,i(oe(n)),l&&K(n,l,i),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();if(!t)return null;var u={padding:"7px 7px 7px 14px"};return 0===t.invitedGuests.length?c.a.createElement(r.Fragment,null,c.a.createElement("label",{style:{fontWeight:"bold"}},"Invitations"),c.a.createElement("p",{style:{fontSize:"1rem"}},"List has no pending invitations.")):c.a.createElement(r.Fragment,null,c.a.createElement("label",{style:{fontWeight:"bold"}},"Invitations"),t.invitedGuests.map((function(e){return c.a.createElement(Te.a,{key:e.id},c.a.createElement(Ae.a,null,c.a.createElement(Ae.a.Column,{style:u,floated:"left",verticalAlign:"middle",width:5},c.a.createElement("span",null,e.name)),c.a.createElement(Ae.a.Column,{style:u,floated:"right",width:5},c.a.createElement(Le.a,{floated:"right",size:"mini",color:"red",onClick:function(){return s(e)},icon:"delete"}))))})))},Ue=function(e){var t=e.list,a=e.isGuest,n=he(),l=Object(o.a)(n,2),i=l[0].user,s=l[1],u=function(){var e=Object(f.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{de(t,a,s)}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(!t)return null;var m={padding:"7px 7px 7px 14px"},d={fontSize:"1rem"},E={fontSize:"1rem",fontWeight:"bold"};return i?0===t.guests.length?c.a.createElement(r.Fragment,null,c.a.createElement("label",{style:{fontWeight:"bold"}},"Guests"),c.a.createElement("p",{style:d},"List has no guest users.")):a?c.a.createElement(r.Fragment,null,c.a.createElement("label",{style:{fontWeight:"bold"}},"Guests"),t.guests.map((function(e){return c.a.createElement(Te.a,{size:"mini",key:e.id},c.a.createElement("span",{style:e.id===i.id?E:d},e.name))}))):c.a.createElement(r.Fragment,null,c.a.createElement("label",{style:{fontWeight:"bold"}},"Guests"),t.guests.map((function(e){return c.a.createElement(Te.a,{key:e.id},c.a.createElement(Ae.a,null,c.a.createElement(Ae.a.Column,{style:m,floated:"left",verticalAlign:"middle",width:5},c.a.createElement("span",null,e.name)),c.a.createElement(Ae.a.Column,{style:m,floated:"right",width:5},c.a.createElement(Le.a,{floated:"right",size:"mini",color:"red",onClick:function(){return u(e)},icon:"delete"}))))}))):null},Be=function(e){var t=e.open,a=e.onClose,n=e.list,l=Object(r.useState)(!1),i=Object(o.a)(l,2),s=i[0],u=i[1],m=he(),d=Object(o.a)(m,2),E=d[0].user,v=d[1],y=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!1),a();try{ee(n,v)}catch(t){console.log(t)}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.guests.map((function(e){return e.name})).includes(t.name)&&!n.invitedGuests.map((function(e){return e.name})).includes(t.name)){e.next=2;break}return e.abrupt("return",a.setErrors({name:"User is already invited to the list."}));case 2:return e.prev=2,e.next=5,R.inviteGuest(n.id,t.name);case 5:r=e.sent,v(ie(r)),E&&K(r,E,v),a.resetForm(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),a.setErrors({name:"User does not exist."});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{E&&(me(n,v),le(E,v),a())}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(E){if(n.guests.map((function(e){return e.id})).includes(E.id))return c.a.createElement(_e.a,{open:t,onClose:a,centered:!1,size:"small",closeIcon:!0},c.a.createElement(_e.a.Header,null,"Configure list ",n.name),c.a.createElement(_e.a.Content,null,c.a.createElement(r.Fragment,null,c.a.createElement("label",{style:{fontWeight:"bold"}},"Owner of the list"),c.a.createElement(Te.a,{size:"mini"},c.a.createElement("span",{style:{fontSize:"1rem"}},n.user.name)),c.a.createElement(Ie.a,null),c.a.createElement(Ue,{list:n,isGuest:!0}),c.a.createElement(Ie.a,null)),c.a.createElement(Le.a,{color:"orange",onClick:g},c.a.createElement(b.a,{name:"delete"}),"Leave list"),c.a.createElement(Ne,{open:s,list:n,onConfirm:y,onClose:function(){return u(!1)}})),c.a.createElement(_e.a.Actions,null,c.a.createElement(Le.a,{type:"button",onClick:a,color:"grey"},"Cancel")));if(n.user.id===E.id)return c.a.createElement(_e.a,{open:t,onClose:a,centered:!1,size:"small",closeIcon:!0},c.a.createElement(_e.a.Header,null,"Configure list ",n.name),c.a.createElement(_e.a.Content,null,c.a.createElement(r.Fragment,null,c.a.createElement("label",{style:{fontWeight:"bold"}},"Owner of the list"),c.a.createElement(Te.a,{size:"mini"},c.a.createElement("span",{style:{fontSize:"1rem",fontWeight:"bold"}},n.user.name)),c.a.createElement(Ie.a,null),c.a.createElement(Ue,{list:n,isGuest:!1}),c.a.createElement(Ie.a,null),c.a.createElement(Me,{list:n}),c.a.createElement(Ie.a,null),c.a.createElement(ze,{onSubmit:h}),c.a.createElement(Ie.a,null)),c.a.createElement(Le.a,{color:"red",onClick:function(){return u(!0)}},c.a.createElement(b.a,{name:"delete"}),"Delete list"),c.a.createElement(Ne,{open:s,list:n,onConfirm:y,onClose:function(){return u(!1)}})),c.a.createElement(_e.a.Actions,null,c.a.createElement(Le.a,{type:"button",onClick:a,color:"grey"},"Cancel")))}return c.a.createElement(_e.a,{open:t,onClose:a,centered:!1,size:"small",closeIcon:!0},c.a.createElement(_e.a.Header,null,"Login to edit the list"),c.a.createElement(_e.a.Actions,null,c.a.createElement(Le.a,{type:"button",onClick:a,color:"grey"},"Cancel")))},Ge=function(e){var t=e.onSubmit,a=e.onCancel;return c.a.createElement(De.d,{initialValues:{name:""},onSubmit:t,validate:function(e){var t={};return e.name||(t.name="Field is required"),t}},(function(e){var t=e.isValid,n=e.dirty;return c.a.createElement(De.c,{className:"form ui"},c.a.createElement(De.b,{label:"Name of the item",placeholder:"Item",name:"name",component:Ve,autoFocus:!0}),c.a.createElement(Ae.a,null,c.a.createElement(Ae.a.Column,{floated:"left",width:5},c.a.createElement(Le.a,{type:"button",onClick:a,color:"red"},"Cancel")),c.a.createElement(Ae.a.Column,{floated:"right",width:5},c.a.createElement(Le.a,{type:"submit",floated:"right",color:"green",disabled:!n||!t},"Add"))))}))},He=function(e){var t=e.open,a=e.onClose,n=e.list,r=he(),l=Object(o.a)(r,2)[1],i=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{te(n,t.name,l)}catch(r){console.error(r)}a();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(_e.a,{open:t,onClose:a,centered:!1,size:"tiny",closeIcon:!0},c.a.createElement(_e.a.Header,null,"Add item"),c.a.createElement(_e.a.Content,null,c.a.createElement(Ge,{onSubmit:i,onCancel:a})))},qe=function(e){var t=e.onSubmit,a=e.onCancel,n=e.item;return c.a.createElement(De.d,{initialValues:{name:n?n.name:""},onSubmit:t,validate:function(e){var t={};return e.name||(t.name="Field is required"),t}},(function(e){var t=e.isValid,n=e.dirty;return c.a.createElement(De.c,{className:"form ui"},c.a.createElement(De.b,{label:"Name of the item",placeholder:"Name",name:"name",component:Ve}),c.a.createElement(Ae.a,null,c.a.createElement(Ae.a.Column,{floated:"left",width:5},c.a.createElement(Le.a,{type:"button",onClick:a,color:"red"},"Cancel")),c.a.createElement(Ae.a.Column,{floated:"right",width:5},c.a.createElement(Le.a,{type:"submit",floated:"right",color:"green",disabled:!n||!t},"Confirm"))))}))},We=function(e){var t=e.open,a=e.onClose,n=e.item,r=e.list,l=he(),i=Object(o.a)(l,2)[1],s=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n&&ne(r,n,t.name,i)}catch(c){console.error(c)}a();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(_e.a,{open:t,onClose:a,centered:!1,size:"tiny",closeIcon:!0},c.a.createElement(_e.a.Header,null,"Edit item"),c.a.createElement(_e.a.Content,null,c.a.createElement(qe,{onSubmit:s,onCancel:a,item:n})))},Je=a(90),Ze=function(e){var t=e.item,a=e.onRemove,n=e.onEdit,r=e.index,l=he(),i=Object(o.a)(l,1)[0].isDesktop;return c.a.createElement(Je.b,{draggableId:t.id,index:r},(function(e){return c.a.createElement("div",Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef}),c.a.createElement(Te.a,null,c.a.createElement(Ae.a,null,c.a.createElement(Ae.a.Column,{floated:"left",verticalAlign:"middle",width:5},c.a.createElement("span",null,t.name)),c.a.createElement(Ae.a.Column,{floated:"right",width:10,className:i?"":"item-button-container-mobile"},c.a.createElement(Le.a,{floated:"right",size:"tiny",color:"red",onClick:a,icon:!0},c.a.createElement(b.a,{name:"delete"})),c.a.createElement(Le.a,{floated:"right",size:"tiny",color:"olive",onClick:n,icon:!0},c.a.createElement(b.a,{name:"edit"}))))))}))},Ye=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],l=Object(r.useState)(null),i=Object(o.a)(l,2),s=i[0],m=i[1],d=Object(r.useState)(!1),E=Object(o.a)(d,2),y=E[0],h=E[1],g=he(),w=Object(o.a)(g,2),O=w[0],C=O.activeList,j=O.isDesktop,x=O.user,S=O.isLoadingList,k=w[1],I=Object(r.useRef)(null),L=function(){I&&I.current&&I.current.focus()};Object(r.useEffect)((function(){L()}),[C]);var T=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C)try{ae(C,t,k)}catch(a){console.error(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,r,c,l,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.destination,n=t.source,r=t.draggableId,a){e.next=3;break}return e.abrupt("return");case 3:if(a.droppableId!==n.droppableId||a.index!==n.index){e.next=5;break}return e.abrupt("return");case 5:if((c=null===C||void 0===C?void 0:C.items)&&C){l=Object(v.a)(c),(i=l.find((function(e){return e.id===r})))&&(l.splice(n.index,1),l.splice(a.index,0,i),C.items=l);try{X(C,l,k)}catch(o){console.error(o)}}case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return x?S?null:C?c.a.createElement(Ce.a,{className:j?"cont-style":"cont-style-mobile"},c.a.createElement(ke.a,{as:"h3",style:{paddingRight:"1rem",marginBottom:0}},C.name),c.a.createElement(Ie.a,null),0===C.items.length?"List has no items":c.a.createElement(Je.a,{onDragEnd:_},c.a.createElement(Je.c,{droppableId:C.id},(function(e){return c.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),C.items.map((function(e,t){return c.a.createElement(Ze,{index:t,key:e.id,item:e,onRemove:function(){return T(e)},onEdit:function(){return m(e)}})})),e.placeholder)}))),c.a.createElement(Be,{open:a,onClose:function(){return n(!1)},list:C}),c.a.createElement(He,{open:y,onClose:function(){h(!1),L()},list:C}),c.a.createElement(We,{open:!!s,onClose:function(){return m(null)},list:C,item:s}),c.a.createElement(Ie.a,null),c.a.createElement(Le.a,{style:{marginBottom:"1rem"},floated:"left",color:"olive",onClick:function(){return n(!0)}},c.a.createElement(b.a,{name:"edit"}),"Edit"),c.a.createElement(Le.a,{style:{marginBottom:"1rem"},color:"green",floated:"right",onClick:function(){return h(!0)},ref:I},c.a.createElement(b.a,{name:"add"}),"Add Item")):c.a.createElement(Ce.a,{className:j?"cont-style":"cont-style-mobile"},c.a.createElement(ke.a,{as:"h2",style:{marginTop:"4rem",textAlign:"center"}},"Create or select a list.")):c.a.createElement(u.a,{to:"/"})},$e=function(e){var t=e.onSubmit,a=e.onCancel,n=he(),r=Object(o.a)(n,1)[0].lists;return c.a.createElement(De.d,{initialValues:{name:""},onSubmit:t,validate:function(e){var t={};return e.name||(t.name="Field is required"),r.map((function(e){return e.name})).includes(e.name)&&(t.name="List with that name already exists"),t}},(function(e){var t=e.isValid,n=e.dirty;return c.a.createElement(De.c,{className:"form ui"},c.a.createElement(De.b,{label:"Name of the list",placeholder:"Name",name:"name",component:Ve,autoFocus:!0}),c.a.createElement(Ae.a,null,c.a.createElement(Ae.a.Column,{floated:"left",width:5},c.a.createElement(Le.a,{type:"button",onClick:a,color:"red"},"Cancel")),c.a.createElement(Ae.a.Column,{floated:"right",width:5},c.a.createElement(Le.a,{type:"submit",floated:"right",color:"green",disabled:!n||!t},"Add"))))}))},Ke=function(){var e=he(),t=Object(o.a)(e,2),a=t[0],n=a.listModalOpen,r=a.user,l=t[1],i=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l({type:"CLOSE_LIST_MODAL"});try{r&&Q(t.name,r,l)}catch(a){console.error(a)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(_e.a,{open:n,onClose:function(){return l({type:"CLOSE_LIST_MODAL"})},centered:!1,size:"tiny",closeIcon:!0},c.a.createElement(_e.a.Header,null,"Add a new list"),c.a.createElement(_e.a.Content,null,c.a.createElement($e,{onSubmit:i,onCancel:function(){return l({type:"CLOSE_LIST_MODAL"})}})))},Qe=a(472),Xe=function(e){var t=e.onSubmit,a=e.onCancel,n=e.label,r=e.placeHolder,l=e.initialValue,i=e.type;return c.a.createElement(De.d,{initialValues:{name:l,password:""},onSubmit:t,validate:function(e){var t={};return e.name||(t.name="Field is required"),e.name===l&&("text"===i?t.name="Choose a new name.":"email"===i&&(t.name="Choose another email address.")),e.password||(t.password="Field is required."),"email"!==i||/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.name)||(t.name="Invalid email address."),t},validateOnChange:!0},(function(e){var t=e.isValid,l=e.dirty;return c.a.createElement(De.c,{className:"form ui"},c.a.createElement(De.b,{label:n,placeholder:r,name:"name",type:i,component:Ve,autoFocus:!0}),c.a.createElement(De.b,{label:"Password",placeholder:"Password",name:"password",component:Fe,autoFocus:!1}),c.a.createElement(Ae.a,null,c.a.createElement(Ae.a.Column,{floated:"left",width:5},c.a.createElement(Le.a,{type:"button",onClick:a,color:"red"},"Cancel")),c.a.createElement(Ae.a.Column,{floated:"right",width:5},c.a.createElement(Le.a,{type:"submit",floated:"right",color:"green",disabled:!l||!t},"Ok"))))}))},et=function(e){var t=e.open,a=e.onSubmit,n=e.onClose,r=e.label,l=e.header,i=e.placeHolder,o=e.initialValue,s=e.type;return c.a.createElement(_e.a,{open:t,onClose:n,centered:!1,size:"tiny",closeIcon:!0},c.a.createElement(_e.a.Header,null,l),c.a.createElement(_e.a.Content,null,c.a.createElement(Xe,{onSubmit:a,onCancel:n,label:r,type:s,placeHolder:i,initialValue:o})))},tt=function(e){var t=e.user,a=he(),n=Object(o.a)(a,2),l=n[0].isDesktop,i=n[1],s=Object(r.useState)(!1),u=Object(o.a)(s,2),m=u[0],d=u[1],E=function(){var e=Object(f.a)(p.a.mark((function e(a,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return e.prev=1,e.next=4,J.changeName(t.id,a.name,a.password);case 4:r=e.sent,pe(r,i),d(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),400===e.t0.response.status?n.setErrors({name:"Username already taken."}):n.setErrors({password:"Invalid password."});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}();return t?l?c.a.createElement(Qe.a.Row,null,c.a.createElement(Qe.a.Cell,{width:2},"Username"),c.a.createElement(Qe.a.Cell,null,t.name),c.a.createElement(Qe.a.Cell,{textAlign:"right"},c.a.createElement(Le.a,{color:"olive",size:"mini",onClick:function(){return d(!0)}},c.a.createElement(b.a,{name:"edit"}),"Edit")),c.a.createElement(et,{open:m,onSubmit:E,onClose:function(){return d(!1)},label:"Enter new name",header:"Change username",placeHolder:"Name",type:"text",initialValue:t.name})):c.a.createElement(Qe.a.Row,{style:{paddingTop:0}},c.a.createElement(Qe.a.Cell,null,"Username"),c.a.createElement(Qe.a.Cell,{style:{paddingTop:0,paddingBottom:0}},c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",textAlign:"justify",textJustify:"inter-word",marginTop:"1rem"}},c.a.createElement("p",{style:{lineHeight:"2rem",marginBottom:0}}," ",t.name),c.a.createElement(Le.a,{style:{justifySelf:"end"},color:"olive",size:"mini",onClick:function(){return d(!0)}},c.a.createElement(b.a,{name:"edit"}),"Edit"))),c.a.createElement(et,{open:m,onSubmit:E,onClose:function(){return d(!1)},label:"Enter new name",header:"Change username",placeHolder:"Name",type:"text",initialValue:t.name})):null},at=function(e){var t=e.user,a=he(),n=Object(o.a)(a,2),l=n[0].isDesktop,i=n[1],s=Object(r.useState)(!1),u=Object(o.a)(s,2),m=u[0],d=u[1],E=function(){var e=Object(f.a)(p.a.mark((function e(a,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return e.prev=1,e.next=4,J.changeEmail(t.id,a.name,a.password);case 4:r=e.sent,fe(r,i),d(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),400===e.t0.response.status?n.setErrors({name:e.t0.response.data}):n.setErrors({password:"Invalid password."});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}();return t?l?c.a.createElement(Qe.a.Row,null,c.a.createElement(Qe.a.Cell,{width:2},"Email"),c.a.createElement(Qe.a.Cell,null,t.email?t.email:""),c.a.createElement(Qe.a.Cell,{textAlign:"right"},c.a.createElement(Le.a,{color:"olive",size:"mini",onClick:function(){return d(!0)}},c.a.createElement(b.a,{name:"edit"}),"Edit")),c.a.createElement(et,{open:m,onSubmit:E,onClose:function(){return d(!1)},label:"Email adress",type:"email",header:"Change email",placeHolder:"Email",initialValue:t.email?t.email:""})):c.a.createElement(Qe.a.Row,{style:{paddingTop:0}},c.a.createElement(Qe.a.Cell,{width:1},"Email"),c.a.createElement(Qe.a.Cell,{style:{paddingTop:0,paddingBottom:0}},c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",textAlign:"justify",textJustify:"inter-word",marginTop:"1rem"}},c.a.createElement("p",{style:{lineHeight:"2rem",marginBottom:0}},t.email?t.email:""),c.a.createElement(Le.a,{style:{justifySelf:"end"},color:"olive",size:"mini",onClick:function(){return d(!0)}},c.a.createElement(b.a,{name:"edit"}),"Edit"))),c.a.createElement(et,{open:m,onSubmit:E,onClose:function(){return d(!1)},label:"Email address",type:"email",header:"Change email",placeHolder:"Email",initialValue:t.email?t.email:""})):null},nt=function(e){var t=e.onSubmit,a=e.onCancel,n=(e.showPassword,e.toggleShowPassword,e.validate);return c.a.createElement(De.d,{initialValues:{oldPassword:"",newPassword:""},onSubmit:t},(function(e){var t=e.isValid,r=e.dirty;return c.a.createElement(De.c,{className:"form ui"},c.a.createElement(De.b,{label:"Current password",placeholder:"Password",name:"oldPassword",component:Fe,autoFocus:!0}),c.a.createElement(De.b,{label:"New password",placeholder:"Password",name:"newPassword",component:Fe,autoFocus:!1,validate:n}),c.a.createElement(Ae.a,{style:{paddingTop:"1rem"}},c.a.createElement(Ae.a.Column,{floated:"left",width:5},c.a.createElement(Le.a,{type:"button",onClick:a,color:"red"},"Cancel")),c.a.createElement(Ae.a.Column,{floated:"right",width:5},c.a.createElement(Le.a,{type:"submit",floated:"right",color:"green",disabled:!r||!t},"Ok"))))}))},rt=function(e){var t=e.open,a=e.onSubmit,n=e.onClose,l=e.header,i=e.validate,s=Object(r.useState)(!1),u=Object(o.a)(s,2),m=u[0],d=u[1];return c.a.createElement(_e.a,{open:t,onClose:n,centered:!1,size:"tiny",closeIcon:!0},c.a.createElement(_e.a.Header,null,l),c.a.createElement(_e.a.Content,null,c.a.createElement(nt,{onSubmit:a,onCancel:function(){n(),d(!1)},showPassword:m,toggleShowPassword:function(){d(!m)},validate:i})))},ct=function(e){var t=e.user,a=he(),n=Object(o.a)(a,2),l=n[0].isDesktop,i=(n[1],Object(r.useState)(!1)),s=Object(o.a)(i,2),u=s[0],m=s[1],d=function(){var e=Object(f.a)(p.a.mark((function e(a,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return e.prev=1,e.next=4,J.changePassword(t.id,a.oldPassword,a.newPassword);case 4:m(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.response.status),401===e.t0.response.status?n.setErrors({oldPassword:"Invalid password."}):n.setErrors({newPassword:"Password is too short. Please use at least 5 characters."});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,a){return e.apply(this,arguments)}}(),E=function(e){if(e.length<5)return"Password is too short. Please use at least 5 characters."};return t?l?c.a.createElement(Qe.a.Row,null,c.a.createElement(Qe.a.Cell,{width:2},"Password"),c.a.createElement(Qe.a.Cell,null,"********"),c.a.createElement(Qe.a.Cell,{textAlign:"right"},c.a.createElement(Le.a,{color:"olive",size:"mini",onClick:function(){return m(!0)}},c.a.createElement(b.a,{name:"edit"}),"Edit")),c.a.createElement(rt,{open:u,onSubmit:d,onClose:function(){return m(!1)},header:"Change password",validate:E,initialValue:""})):c.a.createElement(Qe.a.Row,{style:{paddingTop:0}},c.a.createElement(Qe.a.Cell,null,"Password"),c.a.createElement(Qe.a.Cell,{style:{paddingTop:0,paddingBottom:0}},c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",textAlign:"justify",textJustify:"inter-word",marginTop:"1rem"}},c.a.createElement("p",{style:{lineHeight:"2rem",marginBottom:0}}," ","********"),c.a.createElement(Le.a,{style:{justifySelf:"end"},color:"olive",size:"mini",onClick:function(){return m(!0)}},c.a.createElement(b.a,{name:"edit"}),"Edit"))),c.a.createElement(rt,{open:u,onSubmit:d,onClose:function(){return m(!1)},header:"Change password",validate:E,initialValue:""})):null},lt=function(e){var t=e.user,a=he(),n=Object(o.a)(a,2),l=n[0].isDesktop,i=n[1],s=Object(r.useState)(),m=Object(o.a)(s,2),d=m[0],E=m[1],v=Object(u.g)();Object(r.useEffect)((function(){E(t.listInvitations)}),[t]);var y=function(){var e=Object(f.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,se(a,t,i);case 3:v.push("/list");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){t&&ue(e,t,i)};if(!t||!d)return null;var g={padding:"1rem 0 1rem 0"};return l?c.a.createElement(r.Fragment,null,c.a.createElement(Ie.a,{style:g,horizontal:!0},c.a.createElement(ke.a,{as:"h4"},"List Invitations")),d&&0===d.length?c.a.createElement("p",{style:{paddingBottom:"1.3rem"}},"No new invitations."):c.a.createElement(Qe.a,null,c.a.createElement(Qe.a.Body,null,d&&d.map((function(e){return c.a.createElement(Qe.a.Row,{key:e.id},c.a.createElement(Qe.a.Cell,null,e.name," by ",e.user.name),c.a.createElement(Qe.a.Cell,{textAlign:"right"},c.a.createElement(Le.a,{positive:!0,size:"mini",onClick:function(){return y(e)}},c.a.createElement(b.a,{name:"check"}),"Accept"),c.a.createElement(Le.a,{negative:!0,size:"mini",onClick:function(){return h(e)}},c.a.createElement(b.a,{name:"delete"}),"Decline")))}))))):c.a.createElement(r.Fragment,null,c.a.createElement(Ie.a,{style:g,horizontal:!0},c.a.createElement(ke.a,{as:"h4"},"List Invitations")),d&&0===d.length?c.a.createElement("p",{style:{paddingBottom:"1.3rem"}},"No new invitations."):c.a.createElement(Qe.a,null,c.a.createElement(Qe.a.Body,null,d&&d.map((function(e){return c.a.createElement(Qe.a.Row,{key:e.id},c.a.createElement(Qe.a.Cell,null,c.a.createElement("p",null,e.name," by ",e.user.name),c.a.createElement(Le.a,{positive:!0,size:"mini",onClick:function(){return y(e)}},c.a.createElement(b.a,{name:"check"}),"Accept"),c.a.createElement(Le.a,{negative:!0,size:"mini",onClick:function(){return h(e)},floated:"right"},c.a.createElement(b.a,{name:"delete"}),"Decline")))})))))},it=function(){var e=he(),t=Object(o.a)(e,2),a=t[0],n=a.user,l=a.isDesktop,i=t[1],s=Object(r.useState)(),u=Object(o.a)(s,2),m=u[0],d=u[1];return Object(r.useEffect)((function(){i({type:"CLEAR_ACTIVE_LIST"})}),[i,null===n||void 0===n?void 0:n.listInvitations]),Object(r.useEffect)((function(){(function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,J.getUser(n.id);case 3:t=e.sent,d(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),n&&m?c.a.createElement(Ce.a,{className:l?"cont-style":"cont-style-mobile"},c.a.createElement(Ie.a,{style:{padding:"1rem 0 1rem 0"},horizontal:!0},c.a.createElement(ke.a,{as:"h4"},"Account information")),c.a.createElement(Qe.a,{definition:!0},c.a.createElement(Qe.a.Body,null,c.a.createElement(tt,{user:m}),c.a.createElement(at,{user:m}),c.a.createElement(ct,{user:m}))),c.a.createElement(lt,{user:m})):null},ot=function(e){var t=e.onSubmit;return c.a.createElement(De.d,{initialValues:{email:"",password:""},onSubmit:t,validateOnChange:!0,validateOnBlur:!1,validate:function(e){var t={};return e.password?e.password.length<5&&(t.password="Password is too short. Please use at least 5 characters."):t.password="Field is required.",t}},(function(e){var t=e.isValid,a=e.dirty;return c.a.createElement(De.c,{className:"form ui"},c.a.createElement(De.b,{label:"Email",placeholder:"Email",name:"email",component:Ve,autoFocus:!0}),c.a.createElement(De.b,{label:"Password",placeholder:"Password",name:"password",component:Fe,autoFocus:!1}),c.a.createElement("div",{style:{marginBottom:"1rem"}}),c.a.createElement(Ae.a,null,c.a.createElement(Ae.a.Column,{floated:"left",width:5}),c.a.createElement(Ae.a.Column,{floated:"right",width:5},c.a.createElement(Le.a,{type:"submit",floated:"right",color:"green",disabled:!a||!t},"Save"))))}))},st=a(260),ut=function(e){var t=e.className,a=void 0===t?"":t,n=Object(st.a)(e,["className"]);return c.a.createElement(Le.a,Object.assign({basic:!0,color:"blue",className:["link",a].join(" "),type:"button"},n))},mt=function(){var e=he(),t=Object(o.a)(e,2),a=t[0].isDesktop,l=t[1],i=Object(u.i)().token,s=Object(r.useState)(void 0),m=Object(o.a)(s,2),d=m[0],E=m[1],b=Object(r.useState)(!1),v=Object(o.a)(b,2),y=v[0],h=v[1];Object(r.useEffect)((function(){(function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.validateToken(i);case 2:t=e.sent,E(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]);var g=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d&&(J.resetPassword(t.email,t.password),h(!0));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w={marginTop:"2rem",marginBottom:"1rem",textAlign:"center"};return""===d?c.a.createElement(Ce.a,{className:a?"cont-style":"cont-style-mobile",style:a?{width:"60%"}:{}},c.a.createElement(ke.a,{as:"h2",style:w},"Password reset link expired."),c.a.createElement("div",{className:"center-container"},c.a.createElement(ut,{onClick:function(){return l(Ee(n.RecoveryModal))}},"Click here to request a new one."))):y?c.a.createElement(Ce.a,{className:a?"cont-style":"cont-style-mobile",style:a?{width:"60%"}:{}},c.a.createElement(ke.a,{as:"h2",style:w},"Password changed."),c.a.createElement("div",{className:"center-container"},c.a.createElement(Le.a,{secondary:!0,content:"Login",onClick:function(){return l(Ee(n.LoginModal))}}))):c.a.createElement(Ce.a,{className:a?"cont-style":"cont-style-mobile",style:a?{width:"60%"}:{}},c.a.createElement(ke.a,{as:"h2",style:w},"Set new password"),c.a.createElement(ot,{onSubmit:g}))},dt=function(){var e=he(),t=Object(o.a)(e,2),a=t[0],r=a.user,l=a.isDesktop,i=(a.modalType,a.activeList,a.isLoadingList,t[1]);return r?c.a.createElement(u.a,{to:"/list"}):c.a.createElement(Ce.a,{style:{padding:"0 4.6rem"}},c.a.createElement(ke.a,{as:"h2",style:{marginTop:"4rem",textAlign:"center"}},"Please login or register to use the site."),c.a.createElement(Te.a,{basic:!0,textAlign:"center"},c.a.createElement(Le.a,{style:l?{marginRight:"1rem"}:{marginBottom:"1rem"},secondary:!0,content:"Login",onClick:function(){return i(Ee(n.LoginModal))}}),c.a.createElement(Le.a,{style:l?{marginLeft:"1rem"}:null,secondary:!0,content:"Register",onClick:function(){return i(Ee(n.RegisterModal))}})))},pt=a(473),ft=function(e){var t=e.onSubmit,a=e.onCancel,r=e.loginFailed,l=he(),i=Object(o.a)(l,2)[1];return c.a.createElement(De.d,{initialValues:{name:"",password:""},onSubmit:t,validateOnChange:!1,validateOnBlur:!1,validate:function(e){var t={};return e.name||(t.name="Field is required"),e.password||(t.password="Field is required"),t}},(function(e){var t=e.isValid,l=e.dirty;return c.a.createElement(De.c,{className:"form ui"},c.a.createElement(De.b,{label:"Username or email",placeholder:"Username / email",name:"name",component:Ve,autoFocus:!0}),c.a.createElement(De.b,{label:"Password",placeholder:"Password",name:"password",component:Fe}),r&&c.a.createElement(pt.a,{negative:!0},c.a.createElement("p",null,"Invalid username or password.")),c.a.createElement("div",{style:{marginBottom:"1rem"}},c.a.createElement(ut,{onClick:function(){return i(Ee(n.RecoveryModal))}},"Forgot password?")),c.a.createElement(Ae.a,null,c.a.createElement(Ae.a.Column,{floated:"left",width:5},c.a.createElement(Le.a,{type:"button",onClick:a,color:"red"},"Cancel")),c.a.createElement(Ae.a.Column,{floated:"right",width:5},c.a.createElement(Le.a,{type:"submit",floated:"right",color:"green",disabled:!l||!t},"Login"))))}))},Et=function(e){var t=e.open,a=he(),l=Object(o.a)(a,2)[1],i=Object(r.useState)(!1),s=Object(o.a)(i,2),m=s[0],d=s[1],E=Object(u.g)(),b=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re(t.name,t.password,l);case 3:l(Ee(n.None)),d(!1),E.push("/list"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(_e.a,{open:t,onClose:function(){return l(Ee(n.None))},centered:!1,size:"tiny",closeIcon:!0},c.a.createElement(_e.a.Header,null,"Login"),c.a.createElement(_e.a.Content,null,c.a.createElement(ft,{onSubmit:b,onCancel:function(){return l(Ee(n.None))},loginFailed:m})))},bt=function(e){var t=e.onSubmit,a=e.onCancel,r=e.registerFailed,l=he(),i=Object(o.a)(l,2)[1];return c.a.createElement(De.d,{initialValues:{name:"",email:"",password:""},onSubmit:t,validateOnChange:!1,validateOnBlur:!1,validate:function(e){var t={};return e.name||(t.name="Field is required"),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(t.email="Invalid email address"),e.password||(t.password="Field is required"),t}},(function(e){var t=e.isValid,l=e.dirty;return c.a.createElement(De.c,{className:"form ui"},c.a.createElement(De.b,{label:"Username",placeholder:"Username",name:"name",component:Ve,autoFocus:!0}),c.a.createElement(De.b,{label:"Password",placeholder:"Password",name:"password",component:Fe}),c.a.createElement(De.b,{label:"Email",placeholder:"Optional email address. Can be added later in account settings",name:"email",component:Ve}),r&&c.a.createElement(pt.a,{negative:!0},c.a.createElement("p",null,r)),c.a.createElement("div",{style:{marginBottom:"1rem"}},c.a.createElement(ut,{onClick:function(){return i(Ee(n.LoginModal))}},"Already have an account? Click here to login.")),c.a.createElement(Ae.a,null,c.a.createElement(Ae.a.Column,{floated:"left",width:5},c.a.createElement(Le.a,{type:"button",onClick:a,color:"red"},"Cancel")),c.a.createElement(Ae.a.Column,{floated:"right",width:5},c.a.createElement(Le.a,{type:"submit",floated:"right",color:"green",disabled:!l||!t},"Confirm"))))}))},vt=function(e){var t=e.open,a=he(),l=Object(o.a)(a,2)[1],i=Object(r.useState)(""),s=Object(o.a)(i,2),m=s[0],d=s[1],E=Object(u.g)(),b=function(){d(""),l(Ee(n.None))},v=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce(t.name,t.email,t.password,l);case 3:E.push("/list"),l(Ee(n.None)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),d(e.t0.response.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(_e.a,{open:t,onClose:b,centered:!1,size:"tiny",closeIcon:!0},c.a.createElement(_e.a.Header,null,"Register"),c.a.createElement(_e.a.Content,null,c.a.createElement(bt,{onSubmit:v,onCancel:b,registerFailed:m})))},yt=function(e){var t=e.onSubmit,a=e.onCancel,n=e.emailFound,r=e.emailNotFound,l=e.resetMessage;return c.a.createElement(De.d,{initialValues:{email:""},onSubmit:t,validateOnChange:!0,validateOnBlur:!1,validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Field is required",l(),t}},(function(e){var t=e.isValid,l=e.dirty,i=e.resetForm,o=e.values;return n&&o.email&&i(),c.a.createElement(De.c,{className:"form ui"},c.a.createElement(De.b,{label:"Email",placeholder:"Email",name:"email",component:Ve,autoFocus:!0}),n&&c.a.createElement(pt.a,{info:!0},c.a.createElement("p",{style:{textAlign:"center"}},"Password reset email sent. Please check your mailbox and follow the link provided to reset your password.")),r&&c.a.createElement(pt.a,{negative:!0},c.a.createElement("p",null,"Email is not in use.")),c.a.createElement("div",{style:{marginBottom:"1rem"}}),c.a.createElement(Ae.a,null,c.a.createElement(Ae.a.Column,{floated:"left",width:5},c.a.createElement(Le.a,{type:"button",onClick:a,color:"red"},"Cancel")),c.a.createElement(Ae.a.Column,{floated:"right",width:5},c.a.createElement(Le.a,{type:"submit",floated:"right",color:"green",disabled:!l||!t},"Send"))))}))},ht=function(e){var t=e.open,a=he(),l=Object(o.a)(a,2)[1],i=Object(r.useState)(!1),s=Object(o.a)(i,2),u=s[0],m=s[1],d=Object(r.useState)(!1),E=Object(o.a)(d,2),b=E[0],v=E[1],y=function(){m(!1),v(!1),l(Ee(n.None))},h=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.requestReset(t.email);case 2:200===e.sent.status?(v(!1),m(!0)):(m(!1),v(!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(_e.a,{open:t,onClose:y,centered:!1,size:"tiny",closeIcon:!0},c.a.createElement(_e.a.Header,null,"Request a password reset"),c.a.createElement(_e.a.Content,null,c.a.createElement(yt,{onSubmit:h,onCancel:y,emailFound:u,emailNotFound:b,resetMessage:function(){m(!1),v(!1)}})))},gt=function(){var e=he(),t=Object(o.a)(e,2),a=t[0].modalType,l=t[1],i=Object(m.useMediaQuery)({minDeviceWidth:900},void 0,(function(e){l(Z(e))}));return Object(r.useEffect)((function(){l(Z(i))}),[l,i]),c.a.createElement(s.a,null,c.a.createElement("div",null,c.a.createElement(Se,null),c.a.createElement(Ce.a,null,c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/profile"},c.a.createElement(it,null)),c.a.createElement(u.b,{path:"/list"},c.a.createElement(Ye,null)),c.a.createElement(u.b,{path:"/users/reset-password/:token"},c.a.createElement(mt,null)),c.a.createElement(u.b,{path:"/users/reset-password/"},c.a.createElement("p",null,"Test")),c.a.createElement(u.b,{path:"/"},c.a.createElement(dt,null))),c.a.createElement(Ke,null),c.a.createElement(Et,{open:a===n.LoginModal}),c.a.createElement(vt,{open:a===n.RegisterModal}),c.a.createElement(ht,{open:a===n.RecoveryModal}))))};a(455);i.a.render(c.a.createElement(ye,{reducer:function(e,t){switch(t.type){case"SET_DEVICE_TO_DESKTOP":return Object(y.a)(Object(y.a)({},e),{},{isDesktop:t.payload});case"SET_IS_LOADING_LIST":return Object(y.a)(Object(y.a)({},e),{},{isLoadingList:t.payload});case"SET_LISTS":return Object(y.a)(Object(y.a)({},e),{},{lists:t.payload});case"SET_ACTIVE_LIST":return Object(y.a)(Object(y.a)({},e),{},{activeList:t.payload});case"CLEAR_ACTIVE_LIST":return Object(y.a)(Object(y.a)({},e),{},{activeList:null});case"OPEN_LIST_MODAL":return Object(y.a)(Object(y.a)({},e),{},{listModalOpen:!0});case"CLOSE_LIST_MODAL":return Object(y.a)(Object(y.a)({},e),{},{listModalOpen:!1});case"ADD_LIST":return Object(y.a)(Object(y.a)({},e),{},{lists:[].concat(Object(v.a)(e.lists),[t.payload])});case"EDIT_LIST":return Object(y.a)(Object(y.a)({},e),{},{activeList:t.payload});case"DELETE_LIST":return Object(y.a)(Object(y.a)({},e),{},{lists:e.lists.filter((function(e){return e.id!==t.payload.id})),activeList:null});case"ADD_ITEM":return t.payload.list.items.push(t.payload.item),Object(y.a)(Object(y.a)({},e),{},{lists:e.lists.map((function(e){return e.id===t.payload.list.id?t.payload.list:e}))});case"DELETE_ITEM":return t.payload.list.items=t.payload.list.items.filter((function(e){return e.id!==t.payload.item.id})),Object(y.a)(Object(y.a)({},e),{},{lists:e.lists.map((function(e){return e.id===t.payload.list.id?t.payload.list:e}))});case"EDIT_ITEM":return t.payload.list.items=t.payload.list.items.map((function(e){return e.id===t.payload.editedItem.id?t.payload.editedItem:e})),Object(y.a)(Object(y.a)({},e),{},{lists:e.lists.map((function(e){return e.id===t.payload.list.id?t.payload.list:e}))});case"SET_USER":return window.localStorage.setItem("loggedShoppingListAppUser",JSON.stringify(t.payload.user)),R.setToken(t.payload.user.token),Object(y.a)(Object(y.a)({},e),{},{user:t.payload.user});case"DISCARD_USER":return Object(y.a)(Object(y.a)({},e),{},{user:null});case"INVITE_GUEST":case"UNINVITE_GUEST":return Object(y.a)(Object(y.a)({},e),{},{lists:e.lists.map((function(e){return e.id===t.payload.list.id?t.payload.list:e}))});case"ACCEPT_INVITATION":return Object(y.a)(Object(y.a)({},e),{},{lists:e.lists.map((function(e){return e.id===t.payload.list.id?t.payload.list:e})),user:Object(y.a)(Object(y.a)({},e.user),{},{listInvitations:t.payload.user.listInvitations})});case"DECLINE_INVITATION":return Object(y.a)(Object(y.a)({},e),{},{user:Object(y.a)(Object(y.a)({},e.user),{},{listInvitations:t.payload.user.listInvitations})});case"LEAVE_LIST":return Object(y.a)(Object(y.a)({},e),{},{lists:e.lists.map((function(e){return e.id===t.payload.list.id?t.payload.list:e}))});case"REMOVE_GUEST":return Object(y.a)(Object(y.a)({},e),{},{lists:e.lists.map((function(e){return e.id===t.payload.list.id?t.payload.list:e})),activeList:t.payload.list});case"CHANGE_USER_NAME":case"CHANGE_USER_EMAIL":return Object(y.a)(Object(y.a)({},e),{},{user:t.payload.user});case"SET_OPEN_MODAL_TYPE":return Object(y.a)(Object(y.a)({},e),{},{modalType:t.payload.modal});default:return e}}},c.a.createElement(gt,null)),document.getElementById("root"))}},[[271,1,2]]]);
//# sourceMappingURL=main.c0d25bba.chunk.js.map